<!DOCTYPE html>
<html>
<head>
    <title>Set Business Hours</title>
</head>
<body>
    <h1>Set Business Hours</h1>

    <form method="POST" action="http://127.0.0.1:8000/core/biz/2/updatehours">
        {% csrf_token %}

        <!-- Poniedziałek -->
        <h2>Monday</h2>
        <label for="monday">Is Open:</label>
        <input type="checkbox" id="monday" name="monday">
        <input type="hidden" id="monday_hidden" name="monday" value="false"> <!-- Dodaj ukryte pole -->
        <br>
        <label for="monday_from">From:</label>
        <input type="time" id="monday_from" name="monday_from">
        <label for="monday_to">To:</label>
        <input type="time" id="monday_to" name="monday_to">
        <br>

        <!-- Wtorek -->
        <h2>Tuesday</h2>
        <label for="tuesday">Is Open:</label>
        <input type="checkbox" id="tuesday" name="tuesday">
        <input type="hidden" id="tuesday_hidden" name="tuesday" value="false"> <!-- Dodaj ukryte pole -->
        <br>
        <label for="tuesday_from">From:</label>
        <input type="time" id="tuesday_from" name="tuesday_from">
        <label for="tuesday_to">To:</label>
        <input type="time" id="tuesday_to" name="tuesday_to">
        <br>

        <!-- Środa -->
        <h2>Wednesday</h2>
        <label for="wednesday">Is Open:</label>
        <input type="checkbox" id="wednesday" name="wednesday">
        <input type="hidden" id="wednesday_hidden" name="wednesday" value="false"> <!-- Dodaj ukryte pole -->
        <br>
        <label for="wednesday_from">From:</label>
        <input type="time" id="wednesday_from" name="wednesday_from">
        <label for="wednesday_to">To:</label>
        <input type="time" id="wednesday_to" name="wednesday_to">
        <br>

        <!-- Czwartek -->
        <h2>Thursday</h2>
        <label for="thursday">Is Open:</label>
        <input type="checkbox" id="thursday" name="thursday">
        <input type="hidden" id="thursday_hidden" name="thursday" value="false"> <!-- Dodaj ukryte pole -->
        <br>
        <label for="thursday_from">From:</label>
        <input type="time" id="thursday_from" name="thursday_from">
        <label for="thursday_to">To:</label>
        <input type="time" id="thursday_to" name="thursday_to">
        <br>

        <!-- Piątek -->
        <h2>Friday</h2>
        <label for="friday">Is Open:</label>
        <input type="checkbox" id="friday" name="friday">
        <input type="hidden" id="friday_hidden" name="friday" value="false"> <!-- Dodaj ukryte pole -->
        <br>
        <label for="friday_from">From:</label>
        <input type="time" id="friday_from" name="friday_from">
        <label for="friday_to">To:</label>
        <input type="time" id="friday_to" name="friday_to">
        <br>

        <!-- Sobota -->
        <h2>Saturday</h2>
        <label for="saturday">Is Open:</label>
        <input type="checkbox" id="saturday" name="saturday">
        <input type="hidden" id="saturday_hidden" name="saturday" value="false"> <!-- Dodaj ukryte pole -->
        <br>
        <label for="saturday_from">From:</label>
        <input type="time" id="saturday_from" name="saturday_from">
        <label for="saturday_to">To:</label>
        <input type="time" id="saturday_to" name="saturday_to">
        <br>

        <!-- Sunday -->
        <h2>Sunday</h2>
        <label for="sunday">Is Open:</label>
        <input type="checkbox" id="sunday" name="sunday">
        <input type="hidden" id="sunday_hidden" name="sunday" value="false"> <!-- Dodaj ukryte pole -->
        <br>
        <label for="sunday_from">From:</label>
        <input type="time" id="sunday_from" name="sunday_from">
        <label for="sunday_to">To:</label>
        <input type="time" id="sunday_to" name="sunday_to">
        <br>

         <button type="button" id="save-button">Save</button>
    </form>

    <script>
        const saveButton = document.getElementById('save-button');
        saveButton.addEventListener('click', () => {
            const data = {
                "owner": 6,
                "monday": document.getElementById('monday').checked,
                "monday_from": document.getElementById('monday_from').value,
                "monday_to": document.getElementById('monday_to').value,
                "tuesday": document.getElementById('tuesday').checked,
                "tuesday_from": document.getElementById('tuesday_from').value,
                "tuesday_to": document.getElementById('tuesday_to').value,
                "wednesday": document.getElementById('wednesday').checked,
                "wednesday_from": document.getElementById('wednesday_from').value,
                "wednesday_to": document.getElementById('wednesday_to').value,
                "thursday": document.getElementById('thursday').checked,
                "thursday_from": document.getElementById('thursday_from').value,
                "thursday_to": document.getElementById('thursday_to').value,
                "friday": document.getElementById('friday').checked,
                "friday_from": document.getElementById('friday_from').value,
                "friday_to": document.getElementById('friday_to').value,
                "saturday": document.getElementById('saturday').checked,
                "saturday_from": document.getElementById('saturday_from').value,
                "saturday_to": document.getElementById('saturday_to').value,
                "sunday": document.getElementById('sunday').checked,
                "sunday_from": document.getElementById('sunday_from').value,
                "sunday_to": document.getElementById('sunday_to').value,
                // Analogicznie dla pozostałych dni
            };

            // Wyślij dane POST na serwer (tutaj użyto Fetch API, możesz użyć dowolnej biblioteki AJAX)
            fetch('http://127.0.0.1:8000/core/biz/2/updatehours', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token }}'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Response:', data);
                // Tutaj możesz dodać kod obsługujący sukces zapisu danych
            })
            .catch(error => {
                console.error('Error:', error);
                // Tutaj możesz dodać kod obsługujący błąd zapisu danych
            });
        });
    </script>
</body>
</html>